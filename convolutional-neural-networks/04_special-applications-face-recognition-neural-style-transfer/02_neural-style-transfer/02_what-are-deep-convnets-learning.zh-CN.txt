深度ConvNets真正在学习什么 在本节中 我想向你展示<br />一些可视化的结果 帮你 训练直觉 了解ConvNet中那些很深的层真正在做什么 这能帮助我们通盘考虑<br />如何实现 神经风格迁移 让我们从一个例子开始 假设你已经训练好了一个ConvNet<br />就像AlexNet这样的网络 你想用可视化的方法把不同层中<br />隐藏单元的当前计算内容展现出来 你可以这么做 让我们  从第一层的隐藏单元开始 假设你浏览你的训练集<br />找出哪些图像或 图块对该单元的激励程度最大 换句话说 在你的神经网络中把<br />训练集暂停下来 弄清楚哪个图片最大程度地<br />激活了该特定单元 现在我们来看 第1层中的隐藏单元 只能看到这个神经网络中<br />较小的一部分 所以如果你要可视化画出<br />是什么激活了该单元  只画出一小块图像<br />也是合理的 因为那个特定的单元只<br />看到了这些图像部分 所以如果你选择了一个隐藏层<br />要找出有哪九个输入图像最大程度地 激励了该单元 你可能<br />会发现像这样的九个图块 看起来就像在那个特定的隐藏单元<br />看到的图片中 它正在偏下的区域找像一条边或<br />一根线那样的东西 所以这些就是那九个图块<br />他们最大程度地激活了 一个隐藏单元 接下来你可以在第1层中挑出<br />不同的隐藏单元再做一遍类似的事 这是不同的隐藏单元<br />看起来第二个隐藏单元 由这9个图块表示 看起来这个隐藏单元正在<br />输入区域的那部分里面找 类似一条线的东西<br />输入区域的那个部分我们也把它叫做感受野 对于其他的隐藏单元 如果你这么做<br /> 你会发现其他的隐藏单元 倾向于受到类似这样的图块激活 这一个看起来喜欢垂直的浅色边<br />但是 最好它的左侧是绿色的 这一个真的喜欢橘色<br />这是一个有趣的图块 红色和绿色合在一起会<br />组成棕色或棕橘色 不过神经元仍然很高兴<br />会被它激活，等等 这是九种不同的<br />代表性神经元 每种都对应能最大程度激活它的九个图块 这会给你一种感觉<br />第1层中的训练用隐藏单元 它们通常在寻找 相对简单的特征<br />比如边或特别的颜色 我在这个视频中用到的所有例子 来源于Mathew Zeiler和Rob Fergus的这篇论文 论文的标题为可视化及理解卷积网络 下面我会用一种更简单的方式来 可视化展现神经网络中<br />隐藏单元所计算的东西 如果你读过他们的论文<br />会发现在ConvNet运行时 还可以用一些更复杂的方法进行可视化 现在你把这个过程已经重复了好几遍 得到了第1层中九个隐藏单元的情况 在神经网络更深的层中 如果你对其中的某些<br />隐藏单元做这样的操作会发生什么呢 在更深的层中神经网络学习了什么 在更深的层中隐藏单元<br />将看到更大一部分图像 在极端的情况下每个像素 说不定都会影响神经网络<br />后面这些层的输出 所以后续的单元实际上看到了更大的图块 在这些幻灯片上面<br />我会画一些相同大小的图块 但是如果我们重复这一过程<br />也就是之前在第1层做的那样 这是最大程度激活第2层中九个不同隐藏单元 的因素的可视化 现在我想讲清楚这个可视化是什么 这些是让一个隐藏单元<br />高度激活的九个图块 然后 对于每个分组 这是由<br />九个图块组成的不同的集合 使得一个隐藏单元被激活 这个可视化展示了第2层的<br />九个隐藏单元 对于其中的每一个展示了<br />九个图块 它们让隐藏单元 拥有了非常大的输出<br />非常大的激活 对于更深的层<br />你也可以重复这些过程 现在在这张幻灯片上<br />我知道看清这些小的图块 有点难 所以让我们放大<br />其中的一部分 对于第1层 你已经看到了这个 例如 这是我们看到的<br />第一个高度激活的单元 如果在输入图片的区域内<br />你可以看到可能那个角上面有一条边 现在我们再放大第2层 看看这边的可视化 很有意思 看起来第2层在检测<br />更复杂的形状和模式 例如 这个隐藏单元<br />看起来像在寻找 拥有很多垂直线条<br />的垂直纹理 这个隐藏单元看起来就像<br />当图像的左边部分 有一个较圆的形状时<br />它就会被高度激活 这个在寻找非常细的垂直线条等等 所以第二层探测的特征<br />变得更复杂 第3层怎么样呢 我们放大一下<br />事实上 让我再放大一点 你可以看得更清楚<br />这些是最大程度激活第3层的东西 让我们再放大一点<br />这也非常有意思 看起来有一个隐藏单元<br />似乎对 图像左下部分处较圆的形状反应很大 所以最后检测出了很多<br />汽车 狗 令人惊喜的是甚至开始检测人 这个看起来正在检测<br />像蜂巢的某种纹理 或是方形 或是不规则的纹理 其中的一些看起来相当难<br />需要人工判断它 正在检测的是什么<br />但它明显开始在检测更复杂的模式 那么下一层是什么情况呢 这是第4层<br />你会看到正在检测 的特征或模式更为复杂 看起来几乎已经<br />学出了一个狗检测器 但是 所有这些狗都比较类似 对吧 这是 我不知道是哪种狗<br />或者说不知道狗的血统 不过现在所有这些都是狗<br />它们看起来比较彼此相似 看看这个隐藏单元<br />它在识别水 这个看起来像实际上<br />在识别鸟腿等等 然后第5层在识别<br />更复杂的东西 那么 你会发现这还有一个神经元<br />似乎是一个狗检测器 但这里检测出的狗的集合中<br />狗的种类看起来更多 然后这看起来这是在识别键盘<br />以及带类似键盘纹理的东西 虽然可能是背景上的很多点 我觉得这个神经元可能在检测文字<br />总是很难得到确定的答案 这个在检测花 我们经历了很长的过程<br />才检测出相对简单的东西 比如从第1层的边<br />到第2层的纹理 再到在更深的层中检测的<br />非常复杂的物体 所以我希望这能让你有<br />更好的直觉 了解 神经网络中较浅和较深的各层在计算什么 在下一节中 我们会使用这种直觉<br />搭建神经风格迁移 只有两行的算法。