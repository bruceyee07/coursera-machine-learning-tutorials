您見過了卷積如何作用在 2D 影像中 現在，我們來看您如何建置卷積 不只是在 2D 影像 而是在 3維度容積上 我們用一個例子開始 假設您想偵測特徵 不只是灰階影像 而是 RGB 影像 所以一個 RGB 影像不只是一個 6乘6 影像 它可能是 6乘6乘3 這裡的 3 指的是三原色通道 您可以將它想成是 3 個 6乘6 影像疊起來 為了要偵測這個影像的邊緣
或者一些其他的特徵 您可以把這個拱起來 而不再只是一個 3乘3 過濾器 像我們之前使用的 但現在也會是一個 3D 過濾器 也就會是 3乘3乘3 所以過濾器本身也會有 3層相對於紅 綠跟藍三原色通道 給這些東西一些名字 這裡第一個 6 這個是影像的高度 這是寬度，而這個 3 是通道的數量 而您的過濾器也同樣有高度 寬度跟通道數目 而通道的數目在 您的影像中應該要
跟您過濾器的通道數目相同 所以這兩個數字要相等 我們會在下一張投影片看到
這樣的卷積如何作用 但這裡的輸出會是一個 4乘4 影像 請注意這是 4乘4乘1 最後這裡不再有 3 我們來詳細介紹一下這個如何作用，
但我們先畫一個比較好看的影像 所以這是一個 6乘6乘3 影像 這是一個 3乘3乘3 過濾器 而最後這個數字 3D 影像跟過濾器的通道數目是相同的 為了簡化這個 3乘3乘3 過濾器 而不是將它像是疊起來的矩陣，我會 有時後把它畫成三維度的立方體，像這樣 為了要計算這個卷積運算的輸出 您要做的是拿這個 3乘3乘3 過濾器 首先將它放在左上角的位置 注意到這個 3乘3乘3 過濾器
有 27 個數字 或者 27 個參數，
是一個三維度立方體 您要做的是拿這裡每一個 27 個數字跟相對於紅， 綠跟藍影像的通道相乘積 所以拿第一個 9 個紅色通道的數字 底下綠色通道的 3 (應該是 9) 個數字 跟綠色通道的 3 （應該是 9) 個數字 然後跟相對應的 27 個數字 在左邊的立方體裡相乘 然後相加，這會給您輸出的第一個數字 然後計算下一個輸出，
您將這個立方體往右滑一格 再一次，做 27 次相乘 將 27 個數字相加 給您下一個輸出 再往下一個 位置的下一個數字 這給您第三個輸出，等等 這給您第四個，然後往下一行，下一個 下一個，下一個 等等，您知道我的意思 直到最後面 這是您會得到最後數字的位置 所以這會讓您做什麼？ 這裡有一個例子 這個過濾器是 3乘3乘3 如果您想在紅色通道偵測影像邊緣 您可以用第一個過濾器，1,1,1, -1, -1, -1 跟之前一樣 然後綠色通道都為 0 藍色通道也都為 0 如果您將這 3 個疊起來
變成您的 3乘3乘3 過濾器 那這會是一個過濾器來偵測邊緣， 偵測垂直邊緣，但只在紅色通道 或者，如果您並不在意
垂直邊緣在哪一個顏色 那您或許會用一個過濾器像這樣 像這樣 1,1,1, -1, -1, -1 在所有三個通道上 所以用第二種方式做設定，設定這樣的參數 您就會有一個邊緣偵測器 一個 3乘3乘3 邊緣偵測器 在任何顏色上偵測邊緣 而使用不同的參數選擇，您可以得到 從這個 3乘3乘3 過濾器
來偵測不同的特徵 傳統上，在電腦視覺中 當您有一個輸入是一定的高度，一定的寬度 一定數量的通道 您的過濾器可能會用不同的高度 不同的寬度，但是會用同樣數量的通道 理論上，使用一個
或許只用在紅色通道的過濾器是可行的 或許一個只看綠色通道的過濾器，
或者只看藍色的過濾器 再提一次，您注意到三度空間的卷積 一個 6乘6乘3 跟一個 3乘3乘3 卷積 會給您一個 4乘4，2Ｄ的輸出 現在您知道如何卷積一個容積 在建立卷積神經網路時
最後有一個重點 也就是如果我們不只要偵測垂直邊緣呢？ 如果我們要偵測垂直邊緣跟水平邊緣呢？ 或許45度邊緣，跟或許70度邊緣 換句話說，如果您想同時使用多重過濾器呢？ 所以，這個是從前面的投影片來的影像 我們有6乘6乘3 跟一個
3乘3乘3 做卷積 得到一個 4乘4 或許這是一個垂直邊緣偵測器 或許是用來偵測其他的特徵 現在，或許是第二個過濾器，
用橘色來代表 可能是一個水平邊緣偵測器 所以用它來跟第一個過濾器卷積
給您第一個 4乘4 輸出 用它跟第二個過濾器卷積，
給您不同的 4乘4 輸出 我們可以做的是拿者兩個 4乘4 輸出 將第一個放在前面 您可以將第二個過濾器的輸出 放在後面像這樣 將這兩個疊在一起 您最終會有一個 4乘4乘2 的輸出容積 您可以將三度空間畫成一個盒子 我猜會像是這樣 所以這會是一個 4乘4乘2 輸出容積 也就是將您的 6乘6乘3 影像 用這兩個 3乘3乘3 過濾器卷積的結果 造成兩個 4乘4 輸出，然後疊起來 成為一個 4乘4乘2 容積 而這兩個是來自於我們
實際上使用兩個不同的過濾器 所以我們來總結一下關於維度 如果您有一個 n乘n乘通道數量 的輸入影像 所以舉個例子，有一個 6乘6乘3 這個 n下標C 是通道數量 而您用它來卷積一個 f乘f乘，再次 這應該是同樣的 nC, 例子上是 3乘3乘3 而傳統上，這個跟這個會是同樣的數字 然後您會得到的是 n-f+1 乘 n-f+1 乘 您想用這個 nC一撇 實際上是下一層的 nC 也就是您使用過濾器的數目 在我們的例子裡是 4乘4乘2 而我這樣寫的假設是
您使用跨一步而且沒有填充 但如果您使用不同的跨步跟填充 那這個 n-f+1 也會照樣影響到 就像我們在之前影片中看到的 所以這個卷積在容積的想法 實際上很強大 只在一小部分中您可以 直接在 RGB影像 使用這三個通道運算 但更重要的是 您現在可以偵測兩個特徵，像是垂直，水平邊緣 或者 10 個，或者 128 個 或者甚至上百個不同的特徵 而輸出會是一個通道的數字 等於您要偵測的過濾器數量 關於記號 我在文獻中一直使用通道數量
來做為最後這個維度 通常人們會稱這個是 3D 容積的深度，
而這兩種說法 通道或者深度，
在文獻中都常被使用 但我發現用深度比較讓人困惑 因為您通常也會用深度來談神經網路 所以在影片中我將使用通道這個專有名詞來指 也就是這些過濾器的第三個維度 現在您知道如何建立卷積在容積上 您現在已經準備好來建置
一個一層的卷積神經網路 我們在下一個影片來看怎麼做