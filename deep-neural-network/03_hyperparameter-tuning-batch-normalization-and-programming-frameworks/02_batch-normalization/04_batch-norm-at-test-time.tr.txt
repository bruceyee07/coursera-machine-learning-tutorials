batch norm(toptan büyüklük) verilerinizi bir seferde toplu olarak işler ama örneklerinizi teker teker işlemeniz için deneme zamanına ihtiyacınız var Ağınızı buna göre nasıl uyarlayabileceğinizi görelim. Eğitim sırasında şunu hatırlayın Batch normu uygulamak için kullanacağınız denklemler bunlar tek mini batch içinde Ortalamayı hesaplamak için mini batch'deki ZI değerlerini toplarız yani burada,sadece bir mini batch'deki örnekleri topluyorsunuz Ben örnek sayısını belirtmek için M'i kullanıyorum Sadece mini batch'deki.Tüm eğitim setindeki değil Sonra varyansı hesaplıyorsunuz ve Z normunu hesaplıyorsunuz ortalamayı ölçeklendirerek ve standart sapmaya sayısal kararlılık için Epsilon ekleyerek Daha sonra toplam Z , Z-normu gama ve beta ile yeniden ölçeklendirilerek hesaplanıyor. Böylece dikkat edin ki Bu ölçeklendirme hesaplaması için gereken Mu(ortalama) ve sigma kare, mini batch'in tamamından hesaplanıyor Ama test zamanında 6428 veya 2056 örneği aynı zamanda işlemek için mini batch'e sahip olmayabilirsiniz Bu durumda mu ve sigma karesi hesaplamak için farklı yola ihtiyacınız var Eğer bir örnek varsa o tek örneğin ortalamasını ve varyansını almak mantıklı değil Peki,aslında ne yaptık sinir ağınınızı uygulamak için mu ve sigma kare için ayrı hesaplama yapmalıyız ve batch normun tipik uygulamasında yapmanız gereken ortalamanın mini batchler arasında olduğu durumda üstel ağırlıklı ortalamayı kullanarak yaklaşın Açık olmak gerekirse demek istediğim Biraz L katmanı seçelim ve X1, X2 mini batchleriyle birlikte Y ye karşılık gelen değere gidersiniz diyelim Seçtiğimiz katman L yi X1 üzerinde eğitirken Mü(l) elde edersiniz Ben bunu ilk mini batch ve o tabaka için Mü olarak yazacağım Daha sonra o tabaka ve o mini batch için için 2. mini batchi eğitirken Mü'nün ikinci değerini bulursun Bu gizli tabakadaki 4. mini batch için mü'nün 3. değerini bulursun Şİmdiye kadar teta1 ve teta2nin ortalamasını hesaplarken üstel ağırlık ortalamasını nasıl kullandığımızı gördük Mevcut sıcaklığın üssel ağırlıklı ortalamasını hesaplamak için kullandığınız teta3 Gördüğünüz bu ortalama vektörün son ortalama değerini bulmak bunu yaparsınız Bu üstel ağırlıklı ortalama gizli katman için Zs nin ne anlama geldiği hakkında sizin tahmininiz haline gelir üstel ağırlıklı ortalamayı sigma karenin o değerlerini takip etmek için kullanırsınız o katmanda gördüğünüz ilk mini batch'te 2. mini batch'te gördüğünüz sigma kare ve bunun gibi Mü ve sigma karenin ortalamasını almaya devam edin Farklı mini batchler arasında sinir ağını eğitirken gördüğünüz her katmanda. ve sonunda test zamanında yaptığın şey bu denklemin yerine Sadece Z-normu hesaplıyorsun,Znin değeri her ne olursa olsun Ve üstel ağırlıklı ortalamasını kullanarak Mü ve sigma karenin,Ölçeklendirme yaparken elinde olan değer her ne ise Sonra toplam zyi hesaplarsın 1 deneme örneğinde,az önce hesapladığımız Z-normu kullanarak sol ve betayı kullanarak sinir ağını eğitme işlemi sırasında öğrendiğin gama parametreleri Burayı ele aldıktan sonra, eğitim süresi boyunca mü ve sigma kare mini batch'in tamamıyla hesaplandı 28 veya birkaç örnek sayısı. ama örneklerinizi teker teker işlemeniz için deneme zamanına ihtiyacınız var. Bunu yapmak için Mü ve sigma kareyi hesaplamalıyız sizin eğtim setinizden,ve bunu yapmanın birçok yolları vardır teoride tüm eğitim setinizi mü ve sigma kareyi elde etmek için son ağınızdan geçirebilirsiniz ama pratikte insanların genelde yaptığı,uygulamak ve üstel ağırlıklı ortalama takip ettiğiniz gördüğünüz Mü ve sigma kare değerleri eğitim devam ederken ve üstel ağırlıklı ortalama bazen koşu averajı da denir mu ve sigma kare içi kabaca tahmin yapmalıyız daha sonra Mü ve sigma karenin o değerlerini kullanarak ölçeklendirmek için.Bunun için Z değerinin başına ve birimlerine ihtiyacınız var Pratikte bu işlem çok güçlü mü ve sigma kareyi tahmin etmek için tam olarak nasıl yapacağınız konusunda çok fazla endişelenmem. eğer derin öğrenme çerçevesini kullanıyorsanız onlarda genellikle tahmin etmek için bazı varsayılan yolları vardır Mü ve sigma kareyi, makul derecede iyi çalışması gereken Fakat pratikte, baş ve birim değerlerinin Z ortalama ve varyansını tahmin etmenin herhangi bir makul yolu testte iyi çalışmalıdır. batch normda şimdilik söyleyeceklerimiz bu kadar Artık daha derin ağları eğitebilirsiniz ve kendi öğrenme algoritmanızı daha hızlı çalıştırabilirsiniz Bu haftaya başlamadan önce Size derin öğrenme iskeletinden de bahsetmek istiyorum Onu da sıradaki videoda konuşalım