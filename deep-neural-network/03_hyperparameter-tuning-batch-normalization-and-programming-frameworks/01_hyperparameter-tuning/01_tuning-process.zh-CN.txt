大家好，欢迎回来 到目前为止 同学们应该已经了解了 调整神经网络的过程 包含了对很多不同超参数的设置 然而 你该怎样为这些参数 找到比较合适的设定值呢 在这个视频中 我会与你们分享一些指导原则 以及系统化进行超参数调优的技巧 它们将帮助你更有效地 获得合适的超参数 有一种痛苦 是在深度神经网络训练中 面对大量超参数 包括学习速率α 如果使用动量算法的话 还包括动量超参数β 还有Adam优化算法里的超参数β1 β2和ε 也许还包括网络层数 以及每层网络中隐藏单元的数量 也许你还想使用学习率衰减 这种情况下不可能只有单一的学习速率α 当然接下来 你需要选择Mini-Batch的大小 根据我的实践经验 一部分超参数比其他的更加重要 我认为 对于大多数学习算法应用 学习速率α 是需要调优的超参数中最重要的一个 没有之一 除了α 我接下来会调整的一些超参数 也许是动量项 0.9是一个不错的默认值 我还会调整Mini-Batch的大小 来保证最优化算法的运行效率 我还经常调试隐藏单元数量 就是那些我用橙色圈起来的参数 这三个是我认为重要性仅次于 学习速率α的超参数 在调整好这些超参数后 接下来是重要性排在第三的超参数 网络层数有时候对结果起到重要作用 学习率衰减有时也一样 当使用Adam优化算法时 我几乎不调节β1 β2和epsilon 我几乎都是用0.9 0.999和10^(-8) 如果你有兴趣 也可以对这些参数进行调整 希望这让你对超参数的重要性排序 有一个大概的了解 知道哪些参数可能会比其他的重要 毋庸置疑 α是最重要的 其次也许是那些我用橙色圈起来的超参数 再次也许是那些我用紫色圈起来的超参数 但这并不是一个死板的规定 我想其他深度学习从业者也许 不同意我的观点 或者有自己的不同见解 我们继续说下去 如果你要调整一些超参数 该怎样选择这些值的组合呢 在早期的机器学习算法中 如果你有两个超参数 假设是超参数1和超参数2 人们经常会像这样 在一个网格中对点进行取样 然后系统化地尝试这些点所代表的值 在这里我放的是一个5*5的网格 实际上可能比这个大 或者比这个小 在这个例子中 当你尝试过所有25个点后 选择最优的超参数 当超参数的数量相对较少时 这样的取参方法较为实用 但是在深度学习中 我推荐你采取另一种方法 在网格中进行随机取样 像这样随机选择一些点 同样的 我们选择25个点 然后在这些随机选取的点中 尝试所有的超参数 这样做的原因是 事先你很难知道 在你的问题中 哪个超参数是最重要的 正如你在上一页幻灯片中看到的 有一些超参数 实际上比其它的要重要很多 举个例子 假设超参数1是学习速率α 举一个极端一点的例子 假设超参数2 是Adam优化算法分母中的ε 按照我们之前说的 α的选择很关键 而ε的选择却影响不大 那么如果你在网格中取样 当你尝试过 5个α的值之后 可能会发现即使ε的值有所不同 得到的结果却基本上相同 所以你相当于训练了25个模型 但是只尝试了5个有用的α的值 而其实α才是最重要的 相对而言 如果你在网格中随机取样 那么你将获得25个不同的 学习速率α 因此你找到理想值 的概率也就变得更大 我刚才举的例子 只用到两个超参数 实际上 你可能会面对更多的超参数 比如说 你有 3个超参数 那么你将不是在平面正方形中寻找 而是在三维立方体中寻找 超参数3即为第三个维度 通过在 这个三维立方体中抽样 你需要尝试更多这三个超参数的组合值 而在实践中 你要寻找的 可能不仅仅是三个超参数 有时 真正的困难在于 你需要事先知道哪一个超参数 对于你的模型更重要 这种情况下 使用随机取样 而不是在网格中规则抽样 将帮助你更充分地 为最重要的超参数 尝试尽可能多的值的组合 无论最重要的超参数是哪个 当你对超参数进行取样时 另一个常见的做法是 使用区域定位的抽样方案 比如在这个二维的例子中 你抽取了这些点 也许你发现这个点能产生最好的结果 并且旁边的一些点的结果也不错 那么在这个方案中 你需要做的是对 这些点所在的区域进行限定 然后在这个区域内进行密度更高的抽样 或者依然选择随机抽样 但是需要把更多资源集中在这个蓝色方块中搜索 前提是你大体能确定这个区域内取的值能产生最优结果 即最理想的超参数来自于这个区域 在对整个框定范围进行粗略的抽样后 结果会引导你集中在一个更小的区域内 然后你可以在更小的方块内 进行更密集的抽样 所以这种区域型的搜索 也是一种常用方法 通过尝试这些超参数的不同值 接下来你可以 选择最理想的参数 使训练集或者开发集有最理想的结果 或者在超参数搜寻的过程中 实现你希望获得的其它优化结果 希望以上内容能帮助你找到 系统化组织超参数搜索过程的方法 本期我们学习的两个主要内容是 使用随机取样 而不是在网格中定点搜索 或者使用区域定位的搜索过程 但是除此以外 还有很多超参数探寻的方法 让我们在下一个视频中继续讨论 如何正确选择超参数取样的范围<br />翻译 | 审阅：Cousera Global Translator Community