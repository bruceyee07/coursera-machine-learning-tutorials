我想向你们展示几个优化算法 它们比梯度下降更快 为了理解这些算法 你需要用到一种叫做指数加权平均的操作 在统计学上也被称为指数加权滑动平均 我们首先来看一下这个概念 然后我们将要使用这个概念来构建更复杂的优化算法 虽然现在我住在美国 但我是在伦敦出生的 所以在这个例子中 我将使用伦敦去年每天的温度作为例子 比如在1月1日 温度是40华氏度 我知道现在世界上大部分地区都使用摄氏度了 但是我所在的美国是使用华氏度的 这个温度相当于4摄氏度 在1月2日 温度是9摄氏度 等等 到了年中的时候 因为一年有365天 所以年中差不多是第180天 大约在5月末 那时候的温度大概是60华氏度 也就是15摄氏度 等等 进入夏天后越来越暖和 而1月的时候还是比较冷的 如果你把这些数据画出来 就会得到这样一张图 第一天就是1月份的某一天 这里开始是夏天 这里就是年末 大约是12月底 这里大概是1月1日 这里是年中 接近夏天的时候 这里就是年末的时候的数据 这些数据看起来好像有些噪声
如果你想要计算数据的趋势 即温度的局部平均或滑动平均 你可以这样做 首先令V_0=0 之后每一天 我们先用0.9乘以之前的值 再加上0.1乘以当天的温度 这里的theta_1就是第一天的温度 对于第二天 我们仍然使用加权平均 即0.9乘以之前的值 再加上0.1乘以今天的温度 0.9*V_2加上0.1*theta_3 以此类推 计算某天的V值更通用的公式是<br />0.9乘以前一天的V 加上0.1乘以当天的温度 如果你这样计算 并把结果用红色画出来 你就会得到 一个滑动平均的图 称为每日温度的指数加权平均 因此我们来看一下之前幻灯片的公式 就是V_t等于 之前的权重是0.9 我们现在把它换成参数beta beta*V_(t-1)加上 之前使用的是0.1 现在把它换成(1-beta)*theta_t 之前beta=0.9 出于我们之后会讲的某些原因 当你计算这个公式的时候 你可以认为V_t近似于 1/(1-beta)天温度的平均 举例来说 当beta=0.9的时候 你可以认为它是前10天的气温平均值 这就是这条红线 我们来试一下别的值 我们把beta设置为非常接近1的值 比如0.98 这时计算1/(1-0.98) 就得到了50 这相当于粗略计算了 前50天气温的平均值 如果把它画出来 就会得到这条绿色的线 有几个点需要注意
当beta的值很大的时候 你得到的曲线会更平滑 因为你对更多天数的温度做了平均处理 因此曲线就 波动更小 更加平滑 但另一方面 这个曲线会右移 因为你在一个更大的窗口内计算平均温度 通过在更大的窗口内计算平均 这个指数加权平均的公式 在温度变化时 适应地更加缓慢 这就造成了一些延迟 原因是 当beta=0.98的时候 之前的值具有更大的权重 而当前值的权重就非常小 只有0.02 所以当温度变化的时候 温度上升或者下降 这个指数加权平均 在beta较大时 就会适应得更慢 我们来试试另一个值 让beta的值取另一个极端 比如0.5 那么由右边的公式 这就变成了只对两天进行平均 如果画出来 就会得到黄色的线 由于仅仅平均两天的气温 即只在很小的窗口内计算平均 得到结果中会有更多的噪声 更容易受到异常值的影响 但它可以更快地适应温度变化 使用这个公式就可以实现指数加权平均 在统计学中 它被称为 指数加权滑动平均 我们把它简称为指数加权平均 通过调整这个参数 也就是我们之后会在学习算法中看到的一个超参数 就可以得到略微不同的收效 通常取中间的某个值效果最好 也就是这里的红色的曲线 它对温度的平均比绿色或者黄色的曲线更好 现在我们已经学习了如何计算指数加权平均 在接下来的视频中 我们来直观地理解一下它的本质