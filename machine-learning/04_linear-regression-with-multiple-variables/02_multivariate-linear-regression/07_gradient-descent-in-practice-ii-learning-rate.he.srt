1
00:00:00,450 --> 00:00:03,210
בסרטון זה, אני רוצה לתת כמה עצות מעשיות על

2
00:00:03,210 --> 00:00:05,070
איך לגרום לירידה במדרון לעבוד.

3
00:00:05,070 --> 00:00:08,650
הרעיונות בסרטון זה מתרכזים סביב קצב הלמידה אלפא.

4
00:00:09,860 --> 00:00:13,180
באופן קונקרטי, הנה כלל העדכון של הירידה במדרון.

5
00:00:13,180 --> 00:00:16,270
ומה שאני רוצה לעשות בוידאו הזה הוא לספר לכם

6
00:00:16,270 --> 00:00:19,050
על מה שאני קורא לו ניפוי באגים, וכמה עצות כדי

7
00:00:19,050 --> 00:00:22,390
לוודא שהירידה במדרון פועלת כראוי.

8
00:00:22,390 --> 00:00:26,480
ושנית, אני רוצה להסביר איך לבחור את שיעור הלמידה אלפא או

9
00:00:26,480 --> 00:00:29,250
לפחות איך שאני בוחר אותו.

10
00:00:29,250 --> 00:00:32,770
הנה משהו שאני עושה לעתים קרובות כדי לוודא כי הירידה במדרון פועלת

11
00:00:32,770 --> 00:00:34,150
כשורה.

12
00:00:34,150 --> 00:00:38,219
התפקיד של ירידה במדרון הוא למצוא את הערך של תטא

13
00:00:38,219 --> 00:00:42,553
שאנחנו מקווים שימזער את פונקצית העלות J של תטא.

14
00:00:42,553 --> 00:00:47,483
מה שאני עושה לעתים קרובות הוא לשרטט את פונקציית העלות (תטא)J

15
00:00:47,483 --> 00:00:49,750
תוך כדי ריצת הירידה במדרון.

16
00:00:49,750 --> 00:00:53,515
אז ציר ה-X כאן הוא מספר האיטרציות של הירידה במדרון,

17
00:00:53,515 --> 00:00:58,659
וכשהירידה במדרון רצה אנו מקווים לקבל גרף שאולי נראה ככה.

18
00:00:59,720 --> 00:01:02,960
שימו לב שציר ה-x הוא מספר האיטרציות.

19
00:01:02,960 --> 00:01:07,795
בעבר הסתכלנו על גרפים של (תטא)J שבהם ציר ה-x,

20
00:01:07,795 --> 00:01:13,107
הציר האופקי, היה וקטור הפרמטרים תטא אבל זה משהו אחר.

21
00:01:13,107 --> 00:01:15,767
באופן ספציפי, הנקודה הזו פירושה הוא כך:

22
00:01:15,767 --> 00:01:20,570
אני הולך להריץ ירידה במדרון במשך 100 סיבובים.

23
00:01:20,570 --> 00:01:25,240
ויש איזשהו ערך שאני אקבל עבור תטא לאחר 100 חזרות,

24
00:01:25,240 --> 00:01:28,770
אני הולך לקבל איזה שהוא ערך של תטא אחרי 100 חזרות.

25
00:01:28,770 --> 00:01:32,630
ואז אני אחשב את פונקציית העלות J של תטא.

26
00:01:32,630 --> 00:01:35,630
עבור אותו ערך של תטא שאקבל אחרי 100 איטרציות,

27
00:01:35,630 --> 00:01:39,760
והגובה האנכי של הנקודה כאן הוא הערך של (תטא)J.

28
00:01:39,760 --> 00:01:43,630
עבור הערך של תטא שאותו קיבלתי אחרי 100 איטרציות של ירידה במדרון.

29
00:01:43,630 --> 00:01:49,620
והנקודה הזאת כאן מתאימה לערך של (תטא)J עבור

30
00:01:49,620 --> 00:01:53,810
תטא שקיבלתי לאחר הפעלת ירידה במדרון למשך 200 איטרציות.

31
00:01:55,230 --> 00:01:59,353
אז מה שהגרף מראה הוא, מראה את הערך של פונקציית העלות שלך

32
00:01:59,353 --> 00:02:02,020
לאחר כל איטרציה של ירידה במדרון.

33
00:02:02,020 --> 00:02:07,392
ואם הירידה במדרון עובדת כראוי אז (תטה)J

34
00:02:07,392 --> 00:02:11,671
אמור לרדת לאחר כל איטרציה.

35
00:02:17,058 --> 00:02:21,774
עוד דבר שימושי שסוג כזה של כרף יכול להגיד לך הוא שאם תסתכל

36
00:02:21,774 --> 00:02:26,783
על הגרף הספציפי שציירתי, זה נראה שכשאתה מגיע

37
00:02:26,783 --> 00:02:31,350
אולי ל-300 איטרציות, בין 300 ל-400 איטרציות,

38
00:02:31,350 --> 00:02:35,720
הקטע הזה נראה כאילו (תטא)J לא ירד עוד הרבה.

39
00:02:35,720 --> 00:02:38,540
אז כשמגיעים ל-400 איטרציות,

40
00:02:38,540 --> 00:02:41,520
זה נראה כאילו העקומה הזו כאן משתטחת.

41
00:02:41,520 --> 00:02:46,090
או במילים אחרות כשמגיעים ל-400 איטרציות, זה נראה כאילו הירידה במדרון פחות או

42
00:02:46,090 --> 00:02:50,510
יותר התכנסה כי פונקצית העלות לא יורדת הרבה יותר.

43
00:02:50,510 --> 00:02:53,800
אז הסתכלות על הגרף הזה יכולה גם לעזור לך לשפוט

44
00:02:53,800 --> 00:02:55,829
האם הירידה במדרון התכנסה.

45
00:02:57,580 --> 00:03:01,630
דרך אגב, מספר האיטרציות שלוקח לירידה במדרון להתכנס

46
00:03:01,630 --> 00:03:04,850
ליישום מסוים יכול להשתנות במידה רבה, אז אולי עבור

47
00:03:04,850 --> 00:03:09,220
יישום אחד, הירידה במדרון עשויה להתכנס לאחר שלושים חזרות בלבד.

48
00:03:09,220 --> 00:03:15,110
עבור יישום אחר, הירידה במדרון עשויה לקחת 3,000 איטרציות,

49
00:03:15,110 --> 00:03:20,110
ועבור אלגוריתם למידה אחר, זה עלול לקחת 3 מיליון איטרציות.

50
00:03:20,110 --> 00:03:24,048
מתברר שזה קשה מאוד לדעת מראש כמה איטרציות הירידה

51
00:03:24,048 --> 00:03:25,476
במדרון צריכה כדי להתכנס.

52
00:03:25,476 --> 00:03:30,026
ובדרך כלל על ידי שרטוט סוג כזה של גרף, בו מחשבים את עלות הפונקציה עם

53
00:03:30,026 --> 00:03:34,430
הגדלת מספר האיטרציות, בדרך כלל על ידי הסתכלות על הגרפים האלה.

54
00:03:34,430 --> 00:03:37,725
אנחנו יכולים להעריך אם הירידה במדרון התכנסה.

55
00:03:37,725 --> 00:03:42,430
זה אפשרי גם לכתוב מבחן התכנסות אוטומטי,

56
00:03:42,430 --> 00:03:47,560
זאת אומרת, לכתוב אלגוריתם שיכול לומר לך אם הירידה במדרון התכנסה.

57
00:03:47,560 --> 00:03:52,310
והנה אולי דוגמה טיפוסית למדי של מבחן ההתכנסות האוטומטית.

58
00:03:52,310 --> 00:03:57,100
ומבחן כזה עשוי להכריז על התכנסות אם פונקציית העלות שלך (תטה)J

59
00:03:57,100 --> 00:04:01,220
קטַנה בפחות מאשר איזה ערך קטן אפסילון,

60
00:04:01,220 --> 00:04:05,340
לדוגמא בפחות מערך קטן כגון 10 בחזקת מינוס 3 באיטרציה אחת.

61
00:04:05,340 --> 00:04:10,460
אבל אני מוצא שבדרך כלל לבחור מהו הסף הנכון זה די קשה.

62
00:04:10,460 --> 00:04:13,840
ולכן כדי לבדוק את התכנסות הירידה במדרון

63
00:04:13,840 --> 00:04:18,110
אני בעצם נוטה להסתכל על גרפים כאלה, כמו הגרף הזה בצד שמאל,

64
00:04:18,110 --> 00:04:21,740
במקום להסתמך על מבחן ההתכנסות האוטומטי.

65
00:04:21,740 --> 00:04:25,370
מבט על סוג כזה של ציור יכול גם להגיד לך, או לתת לך אזהרה מראש,

66
00:04:25,370 --> 00:04:28,730
אם הירידה בשיפוע לא עובדת כראוי.

67
00:04:28,730 --> 00:04:33,600
באופן קונקרטי, אם אתה מתווה את (תטא)J כפונקציה של מספר האיטרציות.

68
00:04:33,600 --> 00:04:38,280
אז אם אתה רואה גרף כזה שבו (תטא)J למעשה גדל,

69
00:04:38,280 --> 00:04:43,110
אז זה נותן לך סימן ברור שהירידה במדרון לא עובדת.

70
00:04:43,110 --> 00:04:47,250
ותטא כמו זה בדרך כלל אומר שאתה צריך לשנות את קצב הלמידה אלפא.

71
00:04:48,320 --> 00:04:52,885
אם (תטא)J ממש גדל, הסיבה הנפוצה ביותר

72
00:04:52,885 --> 00:04:58,370
לכך היא שאתה מנסה למזער פונקציה, שאולי נראית ככה.

73
00:04:59,380 --> 00:05:02,545
אבל אם שיעור הלמידה שלך גדול מדי אז אם אתה מתחיל כאן,

74
00:05:02,545 --> 00:05:06,090
הירידה במדרון עשויה לפספס את המינימום ולהעיף אותך לשם.

75
00:05:06,090 --> 00:05:07,450
ואם שיעור הלמידה גדול מדי,

76
00:05:07,450 --> 00:05:11,525
ייתכן שתפספס אותו שוב ותישלח לשם, וכן הלאה.

77
00:05:11,525 --> 00:05:15,075
אז מה שבאמת רצית זה להתחיל כאן

78
00:05:15,075 --> 00:05:17,975
ולרדת בהדרגה, נכון?

79
00:05:17,975 --> 00:05:20,096
אבל אם שיעור הלמידה הוא גדול מדי,

80
00:05:20,096 --> 00:05:24,284
אז הירידה במדרון עלולה במקום זאת להמשיך ולהעיף אותך מעל המינימום.

81
00:05:24,284 --> 00:05:26,617
אז אתה עלול למצוא את עצמך במצב הולך ומחמיר

82
00:05:26,617 --> 00:05:30,690
במקום להגיע לערכים נמוכים יותר של פונקציית העלות (תטה)J.

83
00:05:30,690 --> 00:05:34,140
אז אתה מוצא את עצמך עם גרף כזה ואם אתה רואה גרף כזה,

84
00:05:34,140 --> 00:05:38,660
שיטת התיקון היא בדרך כלל פשוט להשתמש בערך קטן יותר של אלפא.

85
00:05:38,660 --> 00:05:41,820
אה, וגם, כמובן, לוודא שבקוד שלך אין באג שגרם לזה.

86
00:05:41,820 --> 00:05:46,700
אבל בדרך כלל ערך גדול מדי של אלפא יכול להיות בעיה נפוצה.

87
00:05:49,020 --> 00:05:53,090
באופן דומה לפעמים אתה עשוי גם לראות את (תטה)J עושה משהו כזה,

88
00:05:53,090 --> 00:05:56,890
הוא עלול לרדת במשך זמן מה ואז לעלות ואז לרדת קצת ואז לעלות

89
00:05:56,890 --> 00:05:58,850
ושוב לרדת במשך זמן מה ואז שוב לעלות וכן הלאה.

90
00:05:58,850 --> 00:06:03,130
וגם עבור זה התיקון הוא להשתמש בערך קטן יותר של אלפא.

91
00:06:04,150 --> 00:06:05,400
אני לא הולך להוכיח את זה כאן,

92
00:06:05,400 --> 00:06:09,560
אבל תחת הנחות מסוימות לגבי פונקציית העלות J, שמתקיימות לגבי

93
00:06:09,560 --> 00:06:14,180
רגרסיה ליניארית, מתמטיקאים הוכיחו שאם שיעור הלמידה

94
00:06:14,180 --> 00:06:19,030
אלפא הוא קטן מספיק, אז (תטא)J צריך לרדת בכל איטרציה.

95
00:06:19,030 --> 00:06:21,979
אז אם זה לא קורה זה כנראה אומר שאלפא גדול מדי,

96
00:06:21,979 --> 00:06:23,810
ואתה צריך לקחת ערך קטן יותר.

97
00:06:23,810 --> 00:06:26,430
אבל כמובן, אתה גם לא רוצה ששיעור הלמידה יהיה קטן מדי,

98
00:06:26,430 --> 00:06:30,830
כי אז הירידה במדרון עלולה להתכנס מאד באיטיות.

99
00:06:31,930 --> 00:06:36,760
ואם אלפא יהיה קטן מדי, אתה עלול למצוא את עצמך מתחיל כאן, נניח,

100
00:06:36,760 --> 00:06:40,930
ומתקדם רק בצעדי תינוק זעירים.

101
00:06:40,930 --> 00:06:47,100
וזה פשוט לוקח המון איטרציות לפני שמגיעים סוף סוף למינימום,

102
00:06:47,100 --> 00:06:50,990
ולכן אם אלפא קטן מדי, הירידה במדרון עלולה להתקדם בקצב איטי מאוד

103
00:06:50,990 --> 00:06:52,360
ולהתכנס באיטיות.

104
00:06:52,360 --> 00:06:55,510
לסיכום, אם שיעור הלמידה הוא קטן מדי,

105
00:06:55,510 --> 00:06:59,845
אנחנו עלולים להיתקל בבעיה של התכנסות איטית, ואם שיעור הלמידה הוא גדול מדי,

106
00:06:59,845 --> 00:07:05,640
(תטא)J עלול לא לרדת בכל איטרציה ועלול אפילו שלא להתכנס.

107
00:07:05,640 --> 00:07:11,490
במקרים מסוימים, אם שיעור הלמידה גדול מדי,
ייתכן גם שכן נגיע להתכנסות אבל איטית.

108
00:07:11,490 --> 00:07:15,220
אבל הבעיה הנפוצה יותר שאתה רואה היא

109
00:07:15,220 --> 00:07:19,040
פשוט ש-(תטא)J לא יורד בכל איטרציה.

110
00:07:19,040 --> 00:07:23,810
וכדי למצוא את כל הבאגים האלה, לעתים קרובות שרטוט של (תטא)J

111
00:07:23,810 --> 00:07:27,810
כפונקציה של מספר האיטרציות יכול לעזור לנו להבין מה קורה.

112
00:07:27,810 --> 00:07:31,620
באופן מעשי, מה שאני עושה בפועל כאשר אני מפעיל ירידה במדרון

113
00:07:31,620 --> 00:07:33,500
הוא לנסות מגוון של ערכים.

114
00:07:33,500 --> 00:07:36,460
פשוט מנסה להריץ ירידה במדרון עם טווח של ערכים עבור

115
00:07:36,460 --> 00:07:38,670
אלפא, כגון 0.001 ו-0.01.

116
00:07:38,670 --> 00:07:41,550
דהיינו הפרשים של סדר גודל.

117
00:07:41,550 --> 00:07:45,250
ובשביל הערכים השונים האלה של אלפא אני משרטט את (תטא)J כפונקציה של

118
00:07:45,250 --> 00:07:47,290
מספר האיטרציות,

119
00:07:47,290 --> 00:07:54,160
ואז אני בוחר את הערך של אלפא שנראה שגורם ל-(תטא)J לקטון במהירות.

120
00:07:54,160 --> 00:07:57,180
למעשה, מה שאני עושה הוא לא באמת הפרשים של פי עשרה.

121
00:07:57,180 --> 00:08:00,970
אז כאן יש לנו סולם ערכי אלפא של פי עשרה.

122
00:08:00,970 --> 00:08:03,679
מה שאני באמת עושה הוא לנסות את טווח הערכים הזה

123
00:08:06,827 --> 00:08:09,985
וכן הלאה, כאן אני מתחיל ב-0.001.

124
00:08:09,985 --> 00:08:13,613
ואז אני אגדיל את קצב הלמידה ל-0.003.

125
00:08:13,613 --> 00:08:15,232
ואז אני אגדיל את זה.

126
00:08:15,232 --> 00:08:20,627
זה שוב בערך הגדלה של פי 3, מ-0.003 ל-0.01.

127
00:08:20,627 --> 00:08:25,512
אז אלה, בערך, הם הערכים שאני מנסה איתם לרדת במדרון וכל

128
00:08:25,512 --> 00:08:30,640
ערך שאני מנסה הוא בערך פי שלשה גדול יותר מהערך הקודם.

129
00:08:30,640 --> 00:08:33,316
אז מה שאני עושה הוא לנסות מגוון של ערכים עד שאני מוצא ערך אחד

130
00:08:33,316 --> 00:08:37,078
שהוא כבר קטן מדי ובצד השני אחד שהוא גדול מדי.

131
00:08:37,078 --> 00:08:40,966
ואז אני מנסה לבחור את הערך הגדול ביותר האפשרי, או

132
00:08:40,966 --> 00:08:45,943
רק משהו קצת יותר קטן מהערך הסביר הגדול ביותר שמצאתי.

133
00:08:45,943 --> 00:08:51,780
וזה בדרך כלל נותן לי שיעור למידה טוב עבור הבעיה שלי.

134
00:08:51,780 --> 00:08:55,910
ואם גם אתם תעשו את זה, יש סיכוי טוב שתצליחו לבחור שיעור למידה טוב

135
00:08:55,910 --> 00:08:58,010
ליישום הירידה במדרון שלכם.