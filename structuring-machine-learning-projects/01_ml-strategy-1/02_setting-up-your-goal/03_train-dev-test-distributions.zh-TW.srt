1
00:00:00,050 --> 00:00:03,050
設置訓練集 (training)、開發集 (dev/development)

2
00:00:03,050 --> 00:00:04,195
和測試集 (test) 的方式

3
00:00:04,195 --> 00:00:06,810
對於打造機器學習應用的速度

4
00:00:06,810 --> 00:00:09,985
會造成很大的影響

5
00:00:09,985 --> 00:00:12,895
即使是大公司裡面的團隊

6
00:00:12,895 --> 00:00:15,540
設計這些資料集設定的不好

7
00:00:15,540 --> 00:00:18,125
也會拖慢團隊的進度

8
00:00:18,125 --> 00:00:20,130
讓我們看看要怎麼去設置

9
00:00:20,130 --> 00:00:23,433
這些資料集，來增加你團隊的效率

10
00:00:23,433 --> 00:00:28,325
在這部影片，我想把重點放在設定「開發集」和「測試集」

11
00:00:28,325 --> 00:00:33,020
Dev set (開發集) 也稱作 development set

12
00:00:33,020 --> 00:00:36,940
有時會叫 holdout 交叉驗證集。

13
00:00:36,940 --> 00:00:42,265
機器學習的工作流程是：你嘗試很多點子

14
00:00:42,265 --> 00:00:44,200
用訓練集訓練各種模型

15
00:00:44,200 --> 00:00:47,950
然後用開發集來評估這些點子，從中挑一個

16
00:00:47,950 --> 00:00:51,280
一直重複這過程，改善在開發集的成效

17
00:00:51,280 --> 00:00:56,240
直到做出了你滿意的分類器，然後你再用測試集評估

18
00:00:56,240 --> 00:00:59,800
舉個例子，假設

19
00:00:59,800 --> 00:01:01,995
你在做一個貓貓分類器

20
00:01:01,995 --> 00:01:05,500
會用在這些地區：美國、

21
00:01:05,500 --> 00:01:07,720
英國、其他歐洲國家、南美

22
00:01:07,720 --> 00:01:10,490
印度、中國、其他亞洲國家、和澳洲

23
00:01:10,490 --> 00:01:14,529
那麼，你要怎麼設置開發集和測試集呢？

24
00:01:14,529 --> 00:01:19,285
一個方法是，你可以挑這四個地區

25
00:01:19,285 --> 00:01:22,555
在這裡我用這四個，但可以是任意四個地區

26
00:01:22,555 --> 00:01:25,705
假設把這四個地區的資料當作開發集

27
00:01:25,705 --> 00:01:28,580
然後另外的四個地區

28
00:01:28,580 --> 00:01:30,530
— 也可以是隨意的四個

29
00:01:30,530 --> 00:01:33,350
把那些放入測試集

30
00:01:33,350 --> 00:01:36,940
不過呢，這方法其實很爛。因為在這例子

31
00:01:36,940 --> 00:01:40,780
你的開發集和測試集有著不同的分布

32
00:01:40,780 --> 00:01:44,345
相反地，我會建議想辦法讓開發集和訓練集

33
00:01:44,345 --> 00:01:49,555
從同樣的資料分佈而來。讓我來解釋一下

34
00:01:49,555 --> 00:01:51,590
你可以想像一個畫面：

35
00:01:51,590 --> 00:01:54,530
設置你的開發集，以及

36
00:01:54,530 --> 00:01:57,662
單一衡量指標

37
00:01:57,662 --> 00:01:59,840
這如同放一個靶，

38
00:01:59,840 --> 00:02:03,395
和大家說這就是我們要瞄準的紅心。

39
00:02:03,395 --> 00:02:07,165
因為設定好開發集和指標後，

40
00:02:07,165 --> 00:02:09,925
大家可以很快地反覆試不同的想法、

41
00:02:09,925 --> 00:02:13,100
跑實驗、很快地拿開發集

42
00:02:13,100 --> 00:02:16,997
用你的指標來評估分類器的好壞，挑一個最好的

43
00:02:16,997 --> 00:02:21,720
做機器學習的人很擅長的是，用不同的方式射靶

44
00:02:21,720 --> 00:02:26,732
逐漸越來越靠近紅心

45
00:02:26,732 --> 00:02:30,173
也就是，在開發集的指標上表現好

46
00:02:30,173 --> 00:02:32,040
然而，以左邊這個例子而言

47
00:02:32,040 --> 00:02:34,680
這樣設定開發和測試集的問題在於

48
00:02:34,680 --> 00:02:39,450
大家花了幾個月，想辦法讓開發集表現好，然後發現

49
00:02:39,450 --> 00:02:41,570
真的拿測試集來測試成效時

50
00:02:41,570 --> 00:02:45,900
下半部這四個地區的資料

51
00:02:45,900 --> 00:02:49,520
很可能和開發集的長得完全不一樣

52
00:02:49,520 --> 00:02:51,765
然後你才很驚恐地發現

53
00:02:51,765 --> 00:02:54,690
這些日子對開發集努力作到最好

54
00:02:54,690 --> 00:02:58,800
並不能讓你在測試集上也表現好

55
00:02:58,800 --> 00:03:03,180
所以開發集和測試集如果有不同的分布，就好比

56
00:03:03,180 --> 00:03:06,525
設定了一個目標，告訴大家瞄準紅心

57
00:03:06,525 --> 00:03:08,865
大家努力了好幾個月，你才發現

58
00:03:08,865 --> 00:03:10,550
「喔等等，要測試的話

59
00:03:10,550 --> 00:03:12,005
我要將靶心移到另一邊」

60
00:03:12,005 --> 00:03:14,160
大家會說「呃...

61
00:03:14,160 --> 00:03:18,320
為什麼我們花了這麼久瞄準紅心

62
00:03:18,320 --> 00:03:21,950
標靶突然被移到了另一個地方？」

63
00:03:21,950 --> 00:03:23,010
要避免這樣

64
00:03:23,010 --> 00:03:24,510
我的建議是

65
00:03:24,510 --> 00:03:29,985
你拿這邊所有的資料，隨機分成開發集和測試集

66
00:03:29,985 --> 00:03:33,917
這樣的話，開發和測試都會有八個地區的資料

67
00:03:33,917 --> 00:03:38,205
開發集和測試集會從同一種分布取出來

68
00:03:38,205 --> 00:03:41,490
也就是所有資料混合起來的這個分布。

69
00:03:41,490 --> 00:03:43,766
還有另一個例子

70
00:03:43,766 --> 00:03:46,200
改編自真實案例

71
00:03:46,200 --> 00:03:48,210
我聽過某個機器學習的團隊

72
00:03:48,210 --> 00:03:50,610
花了好幾個月把開發集做到好

73
00:03:50,610 --> 00:03:55,400
開發集是中產階級的貸款狀況

74
00:03:55,400 --> 00:03:57,465
這個題目是這樣的：

75
00:03:57,465 --> 00:04:00,805
「給定一個貸款申請的輸入 X

76
00:04:00,805 --> 00:04:02,820
你能不能預測

77
00:04:02,820 --> 00:04:04,907
他會不會償還貸款呢？」

78
00:04:04,907 --> 00:04:07,760
這能幫你決定要不要批准某個貸款

79
00:04:07,760 --> 00:04:11,370
那麼，開發集是貸款申請

80
00:04:11,370 --> 00:04:13,565
蒐集中收入地區所得到的資料

81
00:04:13,565 --> 00:04:16,870
zip code 是美國的郵遞區號

82
00:04:16,870 --> 00:04:18,990
不過努力了幾個月後，這團隊

83
00:04:18,990 --> 00:04:21,555
忽然決定要測試在

84
00:04:21,555 --> 00:04:24,650
低收入地區的資料上

85
00:04:24,650 --> 00:04:27,595
當然，中收入和低收入地區

86
00:04:27,595 --> 00:04:30,900
的資料分布非常不一樣

87
00:04:30,900 --> 00:04:34,810
所以他們花很多時間，用前面資料生出的分類器

88
00:04:34,810 --> 00:04:39,165
並不能在之後的資料上表現得好

89
00:04:39,165 --> 00:04:42,750
所以，他們浪費了三個月

90
00:04:42,750 --> 00:04:47,053
必須從頭再做起。

91
00:04:47,053 --> 00:04:48,540
他們碰到的問題是

92
00:04:48,540 --> 00:04:52,035
花了三個月瞄準某個靶心

93
00:04:52,035 --> 00:04:54,060
三個月過後

94
00:04:54,060 --> 00:04:55,490
他們的經理問「喔，

95
00:04:55,490 --> 00:04:57,750
射另一個靶的話會多準？」

96
00:04:57,750 --> 00:04:59,340
這位置完全不一樣

97
00:04:59,340 --> 00:05:02,306
這讓團隊很挫折。

98
00:05:02,306 --> 00:05:05,530
因此，我建議這樣設置開發集和測試集：

99
00:05:05,530 --> 00:05:08,520
讓你的開發集和測試集能反映出預期中

100
00:05:08,520 --> 00:05:11,535
未來的資料；你認為是重要、想做好的資料

101
00:05:11,535 --> 00:05:14,850
特別注意的是，開發集 (dev) 和測試集 (test)

102
00:05:14,850 --> 00:05:20,338
要從同一個分布而來。

103
00:05:20,338 --> 00:05:23,660
無論你未來會獲得的、想要有好表現的

104
00:05:23,660 --> 00:05:25,415
會是什麼樣的資料

105
00:05:25,415 --> 00:05:27,745
試著去蒐集這樣子的資料。

106
00:05:27,745 --> 00:05:29,050
蒐集到了以後

107
00:05:29,050 --> 00:05:32,245
就分到開發集和測試集。

108
00:05:32,245 --> 00:05:33,920
這樣子的話

109
00:05:33,920 --> 00:05:36,440
你的目標就是真心想要的靶心

110
00:05:36,440 --> 00:05:40,705
團隊可以有效率地射向同一個靶心

111
00:05:40,705 --> 00:05:41,826
希望能做得好。

112
00:05:41,826 --> 00:05:45,965
你可能會注意到，我們還沒講到如何設定訓練集 (training)

113
00:05:45,965 --> 00:05:48,790
我們之後再討論

114
00:05:48,790 --> 00:05:51,335
不過這部影片的重點是：

115
00:05:51,335 --> 00:05:53,690
開發集的設置

116
00:05:53,690 --> 00:05:56,300
還有評估的指標

117
00:05:56,300 --> 00:05:59,780
定義了你想瞄準的目標。

118
00:05:59,780 --> 00:06:04,145
希望藉由設置同個分布的開發集和測試集

119
00:06:04,145 --> 00:06:08,659
你能讓團隊瞄準真正的目標。

120
00:06:08,659 --> 00:06:10,870
而挑選訓練集的方法

121
00:06:10,870 --> 00:06:14,510
會影響在這目標上能夠達到的好壞

122
00:06:14,510 --> 00:06:18,400
不過我們之後會再討論。

123
00:06:18,400 --> 00:06:20,830
根據我的經驗，某些機器學習的團隊

124
00:06:20,830 --> 00:06:23,825
如果能遵守這個準則，就不會浪費了數個月的時間

125
00:06:23,825 --> 00:06:26,235
所以我希望這個準則也能對你有幫助

126
00:06:26,235 --> 00:06:29,666
接下來，其實開發集和測試集的大小

127
00:06:29,666 --> 00:06:31,015
怎麼選擇那些資料的數量

128
00:06:31,015 --> 00:06:33,391
在深度學習的時代也已有所改變

129
00:06:33,391 --> 00:06:35,290
讓我們在下部影片來談談